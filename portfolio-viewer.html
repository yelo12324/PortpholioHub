<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Portfolio</title>
    <link rel="stylesheet" href="profile/profile.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/e674bba739.js" crossorigin="anonymous"></script>
    <link
    href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css"
    rel="stylesheet"
/>
</head>

<body>
    <div id="header">
        <div class="container">
            <nav>
                <span class="qq">Welcome</span>
            <ul>
                    <!-- <li><a href="../index.html">Home</a></li> -->
                    <li><a href="#about">About</a></li>
                    <!-- <li><a href="#services">Services</a></li> -->
                    <li><a href="#portfolio">Portfolio</a></li>
                    <li><a href="#contact">Contact</a></li>
                    <i class="fas fa-times"></i>
                 </ul> 
                <!-- <i class="fas fa-bars"></i> -->
            </nav>

            <div class="header-text">
                <p><span class="role" id="typer"> </p>
                <h1>Hi, I'm <span class="fullName"></span><br> from  Jhansi</h1>
                <img src=""  alt="">
            </div>
            <div id="resume-btn">
                <a href="" download class="btn btn2">Download Resume</a>
            </div>
        </div>
    </div>

    <!-- Cursor -->
    <div id="cursor"></div>
    <div id="cursorblur"></div>

    <!-- ----------ABOUT---------- -->
    <div id="about">
        <div class="container">
            <div class="row">
             <div class="about-col-1" data-aos="fade-right">
                    <img src="">
                </div>
                <div class="about-col-2" data-aos="fade-left">
                    <h1 class="sub-title">About Me</h1>
                    <p> </p>
                    <div class="tab-titles">
                        <p class="tab-links active-link" onclick="openTab('skills', event)">Skills</p>
                        <p class="tab-links" onclick="openTab('experience', event)">Experience</p>
                        <p class="tab-links" onclick="openTab('education',event)">Education</p>
                    </div>
                    <div class="tab-contents active-tab" id="skills">
                        <ul>
                            <li><span></span><br></li>
                            <li><span></span><br></li>
                            <li><span></span><br></li>
                            <li><span></span></br></li>
                               
                        </ul>
                    </div>
                    <div class="tab-contents" id="experience">
                        <ul>
                            <li><span></span><br></li>
                            <li><span></span><br></li>
                            <li><span></span><br></li>
                         </ul>
                    </div>
                    <div class="tab-contents" id="education">
                        <ul>
                            <li><span></span><br> </li>
                            <li><span></span><br></li>
                            <li><span></span><br></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- ----------SERVICES---------- -->
    <!-- <section id="services">
    <div class="container">
      <h1 class="sub-title" data-aos="zoom-in">What I Offer</h1>
      <div class="services-list">
        <div data-aos="flip-left">
          <i class="fa-solid fa-video"></i>
          <h2>Video Editing</h2>
          <p>Captivating stories from raw clips using VN & Capcut Pro with cinematic touch.</p>
          <a href="https://www.linkedin.com/in/rashidx17/">Explore More</a>
        </div>
        <div data-aos="flip-up">
          <i class="fa-solid fa-code"></i>
          <h2>Frontend Development</h2>
          <p>Beautiful, mobile-first designs using HTML, CSS, and JavaScript.</p>
          <a href="https://www.linkedin.com/in/rashidx17/">Explore More</a>
        </div>
        <div data-aos="flip-right">
          <i class="fa-solid fa-hashtag"></i>
          <h2>Social Media</h2>
          <p>Engaging content creation and branding strategies tailored for modern platforms.</p>
          <a href="https://www.linkedin.com/in/rashidx17/">Explore More</a>
        </div>
      </div>
    </div>
  </section> -->
    <!-- ----------PORTFOLIO--------- -->
    <div id="portfolio">
        <div class="container">
            <h1 class="sub-title">My Works</h1>
            <div class="work-list">
                <div class="work">
                    <img src="" alt="image not found">
                    <div class="layer">
                        <h2></h2>
                        <p></p>
                        <a href=""><i class="fas fa-external-link-alt"></i></a>
                    </div>
                </div>
                <div class="work">
                    <img src="" alt="image not found">
                    <div class="layer">
                        <h2></h2>
                        <p></p>
                        <a href=""><i class="fas fa-external-link-alt"></i></a>
                    </div>
                </div>
                <div class="work">
                    <img src="" alt="Coming soon">
                    <div class="layer">
                        <h2></h2>
                        <p></p>
                        <a href=""><i class="fas fa-external-link-alt"></i></a>
                    </div>
                </div>
                </div>
            </div>
            <a href="" class="btn">See more</a>
        </div>
    </div>

    <!-- ----------CONTACT---------- -->
    <div id="contact">
        <div class="container">
            <div class="row">
                <div class="contact-left">
                    <h1 class="sub-title">Contact Me</h1>
                    <p><i class="fas fa-paper-plane"></i> </p>
                    <p><i class="fas fa-phone-square-alt"></i>+91 </p>
                    <div class="social-icons">
                        <a href=""><i class="fab fa-facebook"></i></a>
                        <a href=""><i class="fab fa-twitter-square"></i></a>
                        <a href=""><i class="fab fa-instagram"></i></a>
                        <a href=""><i class="fab fa-linkedin"></i></a>
                    </div>
                    <a href="" download class="btn btn2">Download Resume</a>
                </div>
                <div class="contact-right">
                    <form id="contactForm" action="https://api.web3forms.com/submit" method="POST">
                        <input type="hidden" name="access_key" value="5316876f-8f78-4cfb-9446-9d42bf567517">
                        <input type="text" name="Name" placeholder="Your Name" required>
                        <input type="email" name="Email" placeholder="Your Email" required>
                        <textarea name="Message" rows="6" placeholder="Your Message"></textarea>
                        <button type="submit" class="btn btn3">Submit</button>
                    </form>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p>copyright @Vedseem Info Tech Pvt Ltd<i class="fas fa-heart"></i> by </p>
        </div>
    </div>
<!-- SCRIPTS -->
  <!-- <script src="profile.js"></script> -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>AOS.init({ once: true, duration: 1000 });</script>
  <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>

  <div id="alertBox" class="alert" style="display: none;"></div>
    <script>
    // ======================================================
    //               REUSABLE DISPLAY FUNCTION
    // ======================================================
    function populateProfile(data) {
        if (!data) {
            document.body.innerHTML = "<h1>Portfolio not found or is incomplete.</h1>";
            return;
        }

        // Full Name & Header Text
        const headerTextH1 = document.querySelector('.header-text h1');
        if (headerTextH1 && data.fullName && data.city) {
            headerTextH1.innerHTML = `Hi, I'm <span class="fullName">${data.fullName}</span><br> from ${data.city}`;
        }

        // Role
        document.getElementById('typer').textContent = data.role || '';

        // Profile Photos
        if (data.photo) {
            document.querySelector('.header-text img').src = data.photo;
            document.querySelector('.about-col-1 img').src = data.photo;
        }

        // Resume Links
        if (data.resume) {
            document.querySelector('#resume-btn a').href = data.resume;
            document.querySelector('#contact .contact-left a.btn2').href = data.resume;
        }

        // About Me Text
        document.querySelector('#about .about-col-2 p').textContent = data.aboutMe || '';

        // Skills
        const skillsList = document.querySelector('#skills ul');
        if (skillsList && Array.isArray(data.skills)) {
            skillsList.innerHTML = data.skills.map(skill => 
                `<li><span>${skill.name || skill}</span><br>${skill.description || ''}</li>`
            ).join('');
        }

        // Experience
        const expList = document.querySelector('#experience ul');
        if (expList && Array.isArray(data.experience)) {
            expList.innerHTML = data.experience.map(exp => 
                `<li><span>${exp.start} - ${exp.end}</span><br>${exp.role} at ${exp.company}</li>`
            ).join('');
        }

        // Education
        const eduList = document.querySelector('#education ul');
        if (eduList && Array.isArray(data.education)) {
            eduList.innerHTML = data.education.map(edu => 
                `<li><span>${edu.year}</span><br>${edu.degree} at ${edu.college}</li>`
            ).join('');
        }

        // Projects (My Works)
        const workList = document.querySelector('.work-list');
        if (workList && Array.isArray(data.projects)) {
            workList.innerHTML = data.projects.map(project => `
                <div class="work">
                    <img src="${project.photo}" alt="${project.name || 'Project image'}">
                    <div class="layer">
                        <h2>${project.name}</h2>
                        <p>${project.description}</p>
                        <a href="${project.link}" target="_blank"><i class="fas fa-external-link-alt"></i></a>
                    </div>
                </div>
            `).join('');
        }

        // Contact Details
        const contactLeft = document.querySelector('.contact-left');
        if (contactLeft && data.contactDetails) {
            const emailP = contactLeft.querySelector('p:nth-child(2)');
            if (emailP) emailP.innerHTML = `<i class="fas fa-paper-plane"></i>${data.contactDetails.contactEmail || ''}`;
            
            const phoneP = contactLeft.querySelector('p:nth-child(3)');
            if (phoneP) phoneP.innerHTML = `<i class="fas fa-phone-square-alt"></i>${data.contactDetails.phone || ''}`;
        }
    }

    // ======================================================
    //             MAIN LOGIC TO LOAD PROFILE
    // ======================================================
    document.addEventListener('DOMContentLoaded', async () => {
        const params = new URLSearchParams(window.location.search);
        const portfolioId = params.get('id');

        if (!portfolioId) {
            document.body.innerHTML = "<h1>No portfolio ID provided.</h1>";
            return;
        }

        try {
            // Fetch the specific profile using the ID from the URL
            const response = await fetch(`https://portpholiohub.onrender.com/profile/${portfolioId}`);
            
            if (!response.ok) {
                throw new Error('Portfolio could not be loaded.');
            }
            
            const profileData = await response.json();
            
            // Use the reusable function to display all the data
            populateProfile(profileData);

        } catch (err) {
            console.error('Profile load error:', err);
            document.body.innerHTML = `<h1>Error: ${err.message}</h1>`;
        }
    });

    // ======================================================
    //             TAB SWITCHING FUNCTIONALITY
    // ======================================================
    function openTab(tabName, event) {
        document.querySelectorAll('.tab-links').forEach(link =>
            link.classList.remove('active-link')
        );
        document.querySelectorAll('.tab-contents').forEach(content =>
            content.classList.remove('active-tab')
        );
        event.currentTarget.classList.add('active-link');
        document.getElementById(tabName).classList.add('active-tab');
    }
</script>


</body>

</html>