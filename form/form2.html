<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Portfolio - Skills & Experience</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="form2.css" />
</head>
<body>
        <a href="../index.html" class="brand-heading">PortpholioHub</a>

  <div class="container">
    <!-- Steps Header -->
    <div class="steps">
      <p><strong>MAKE YOUR PORTFOLIO</strong></p>
      <div class="step-indicators">
        <div class="line"></div>
        <div class="step">
          <div class="step-circle">1</div>
          Basic Details
        </div>
        <div class="step active">
          <div class="step-circle">2</div>
          Skills & Experience
        </div>
        <div class="step">
          <div class="step-circle">3</div>
          Verification
        </div>
      </div>
    </div>

    <form id="form2">  
    <!-- Skills Section -->
    <div class="section-title">Skills</div>
    <div class="skills-grid">
      <div class="skill-pair">
        <input type="text" class="skill-name" placeholder="Skill Name">
        <input type="text"  class="skill-desc" placeholder="Description">
      </div>
      <div class="skill-pair">
        <input type="text" class="skill-name" placeholder="Skill Name">
        <input type="text"  class="skill-desc" placeholder="Description">
      </div>
      <div class="skill-pair">
        <input type="text" class="skill-name" placeholder="Skill Name">
        <input type="text"  class="skill-desc" placeholder="Description">
      </div>
      <div class="skill-pair">
        <input type="text" class="skill-name" placeholder="Skill Name">
        <input type="text"  class="skill-desc" placeholder="Description">
      </div>
    </div>

    <!-- Experience Section -->
    <div class="section-title">Experience</div>

    <!-- Experience Block 1 -->
    <div class="experience-row">
      <div class="exp-input">
        <label>Role</label>
        <input type="text" class="exp-role" placeholder="e.g. Frontend Developer">
      </div>
      <div class="exp-input">
        <label>Company</label>
        <input type="text" class="exp-company" placeholder="e.g. Google">
      </div>
      <div class="exp-duration">
        <label>Duration</label>
        <div class="duration-inputs">
          <input type="text" class="exp-start" placeholder="Start" onfocus="(this.type='date')" onblur="if(!this.value)this.type='text'">
          <input type="text" class="exp-end"  placeholder="End" onfocus="(this.type='date')" onblur="if(!this.value)this.type='text'">
        </div>
      </div>
    </div>

    <!-- Experience Block 2 -->
    <div class="experience-row">
      <div class="exp-input">
        <label>Role</label>
        <input type="text"  class="exp-role" placeholder="e.g. Backend Developer">
      </div>
      <div class="exp-input">
        <label>Company</label>
        <input type="text" class="exp-company" placeholder="e.g. Amazon">
      </div>
      <div class="exp-duration">
        <label>Duration</label>
        <div class="duration-inputs">
          <input type="text" class="exp-start"  placeholder="Start" onfocus="(this.type='date')" onblur="if(!this.value)this.type='text'">
          <input type="text"  class="exp-end"  placeholder="End" onfocus="(this.type='date')" onblur="if(!this.value)this.type='text'">
        </div>
      </div>
    </div>

    <!-- Experience Block 3 -->
    <div class="experience-row">
      <div class="exp-input">
        <label>Role</label>
        <input type="text"  class="exp-role"  placeholder="e.g. UI Designer">
      </div>
      <div class="exp-input">
        <label>Company</label>
        <input type="text" class="exp-company"  placeholder="e.g. Adobe">
      </div>
      <div class="exp-duration">
        <label>Duration</label>
        <div class="duration-inputs">
          <input type="text"  class="exp-start" placeholder="Start" onfocus="(this.type='date')" onblur="if(!this.value)this.type='text'">
          <input type="text"  class="exp-end"  placeholder="End" onfocus="(this.type='date')" onblur="if(!this.value)this.type='text'">
        </div>
      </div>
    </div>

<button class="save-btn" type="submit"> 
  Save & Continue
</button> 
 </form>
  <div id="alertBox" class="alert" style="display: none;"></div>

  <!-- <script src="form2.js"></script> -->

  <script> 
    

document.addEventListener('DOMContentLoaded', () => {
    const form2 = document.getElementById('form2');
    const alertBox2 = document.getElementById('alertBox');

    function showAlert(message, type = "error") {
        alertBox2.innerText = message;
        alertBox2.className = `alert ${type} show`;
        setTimeout(() => { alertBox2.className = `alert ${type}`; }, 4000);
    }

    form2.addEventListener("submit", function (e) {
        e.preventDefault();

        // --- Collect skills ---
        const skills = [];
        document.querySelectorAll(".skill-pair").forEach(pair => {
            const name = pair.querySelector('.skill-name')?.value.trim();
            const description = pair.querySelector('.skill-desc')?.value.trim();
            if (name && description) skills.push({ name, description });
        });

        // --- Collect experience ---
        const experience = [];
        document.querySelectorAll(".experience-row").forEach(row => {
            const role = row.querySelector('.exp-role')?.value.trim();
            const company = row.querySelector('.exp-company')?.value.trim();
            const start = row.querySelector('.exp-start')?.value;
            const end = row.querySelector('.exp-end')?.value;
            if (role && company && start && end) experience.push({ role, company, start, end });
        });

        // --- Validation ---
        if (skills.length === 0) {
            showAlert("Please add at least one skill.", "error");
            return;
        }

        // --- Save to sessionStorage ---
        sessionStorage.setItem('portfolioStep2', JSON.stringify({ skills, experience }));

        // --- Redirect to next step ---
         window.location.href = '/form/form3.html';
    
    });
});
  </script>
</body>
</html>
